# TimeSeriesAnalysisTool - å¿«é€Ÿå¼€å§‹

## ğŸš€ 3åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä½ çš„æ•°æ®

**CSVæ ¼å¼** (æ¨è):
```csv
date,value
2024-01-01,100
2024-01-02,105
2024-01-03,98
2024-01-04,110
```

**JSONæ ¼å¼**:
```json
[
  {"date": "2024-01-01", "value": 100},
  {"date": "2024-01-02", "value": 105}
]
```

### ç¬¬äºŒæ­¥ï¼šæœ€ç®€å•çš„å®Œæ•´åˆ†æ

```typescript
{
  data_source: "./data/your_data.csv",
  time_column: "date",
  value_column: "value",
  analysis_type: "all"
}
```

å°±è¿™ä¹ˆç®€å•ï¼å·¥å…·ä¼šè‡ªåŠ¨ï¼š
- âœ… è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
- âœ… æ£€æµ‹è¶‹åŠ¿
- âœ… è¯†åˆ«å­£èŠ‚æ€§
- âœ… æ£€éªŒå¹³ç¨³æ€§
- âœ… é¢„æµ‹æœªæ¥
- âœ… æ£€æµ‹å¼‚å¸¸

### ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹ç»“æœ

è¾“å‡ºåŒ…å«ï¼š
- ğŸ“Š æè¿°æ€§ç»Ÿè®¡
- ğŸ“ˆ è¶‹åŠ¿åˆ†æ
- ğŸ”„ å­£èŠ‚æ€§æ¨¡å¼
- ğŸ¯ é¢„æµ‹å€¼ï¼ˆå«ç½®ä¿¡åŒºé—´ï¼‰
- âš ï¸ å¼‚å¸¸å€¼åˆ—è¡¨

---

## ğŸ“‹ å¸¸ç”¨åœºæ™¯é€ŸæŸ¥

### åœºæ™¯1: æˆ‘åªæƒ³çœ‹åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯

```typescript
{
  data_source: "./data/sales.csv",
  value_column: "sales",
  analysis_type: "descriptive"
}
```

**è¾“å‡º**: å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€åˆ†ä½æ•°ç­‰

---

### åœºæ™¯2: æˆ‘æƒ³é¢„æµ‹æœªæ¥é”€å”®é¢

```typescript
{
  data_source: "./data/monthly_sales.csv",
  time_column: "month",
  value_column: "sales",
  analysis_type: "forecast",
  forecast_periods: 12,  // é¢„æµ‹æœªæ¥12ä¸ªæœˆ
  forecast_method: "arima"
}
```

**è¾“å‡º**: 12ä¸ªæœˆçš„é¢„æµ‹å€¼ + ç½®ä¿¡åŒºé—´

---

### åœºæ™¯3: æ£€æµ‹æ•°æ®ä¸­çš„å¼‚å¸¸

```typescript
{
  data_source: "./data/sensor_data.csv",
  time_column: "timestamp",
  value_column: "temperature",
  analysis_type: "anomaly",
  detect_anomalies: true
}
```

**è¾“å‡º**: å¼‚å¸¸å€¼çš„ä½ç½®ã€æ—¶é—´å’Œæ•°å€¼

---

### åœºæ™¯4: åˆ†æå­£èŠ‚æ€§æ¨¡å¼

```typescript
{
  data_source: "./data/website_traffic.csv",
  time_column: "date",
  value_column: "visits",
  analysis_type: "decomposition",
  seasonal_periods: 7  // å‘¨å‘¨æœŸ
}
```

**è¾“å‡º**: è¶‹åŠ¿æˆåˆ†ã€å­£èŠ‚æˆåˆ†ã€æ®‹å·®

---

### åœºæ™¯5: æ£€æŸ¥æ•°æ®æ˜¯å¦å¹³ç¨³

```typescript
{
  data_source: "./data/stock_prices.csv",
  time_column: "date",
  value_column: "price",
  analysis_type: "stationarity"
}
```

**è¾“å‡º**: ADFæ£€éªŒç»“æœã€på€¼ã€æ˜¯å¦å¹³ç¨³

---

## ğŸ¯ å‚æ•°é€‰æ‹©æŒ‡å—

### é€‰æ‹©åˆ†æç±»å‹ (`analysis_type`)

| ä½ æƒ³è¦... | ä½¿ç”¨ | å¾—åˆ° |
|----------|------|------|
| äº†è§£æ•°æ®æ¦‚å†µ | `"descriptive"` | ç»Ÿè®¡æ‘˜è¦ |
| çœ‹è¶‹åŠ¿æ–¹å‘ | `"trend"` | è¶‹åŠ¿ç±»å‹å’Œå¼ºåº¦ |
| æ‰¾å‘¨æœŸæ¨¡å¼ | `"decomposition"` | å­£èŠ‚æ€§æˆåˆ† |
| åˆ¤æ–­æ˜¯å¦å¹³ç¨³ | `"stationarity"` | ADFæ£€éªŒç»“æœ |
| é¢„æµ‹æœªæ¥ | `"forecast"` | é¢„æµ‹å€¼ |
| æ‰¾å¼‚å¸¸ç‚¹ | `"anomaly"` | å¼‚å¸¸å€¼åˆ—è¡¨ |
| å…¨é¢åˆ†æ | `"all"` | æ‰€æœ‰ç»“æœ |

### é€‰æ‹©æ•°æ®é¢‘ç‡ (`frequency`)

| æ•°æ®ç±»å‹ | é¢‘ç‡ä»£ç  | ç¤ºä¾‹ |
|---------|---------|------|
| æ¯å¤©ä¸€ä¸ªç‚¹ | `"D"` | æ—¥é”€å”®é¢ |
| æ¯å‘¨ä¸€ä¸ªç‚¹ | `"W"` | å‘¨æŠ¥æ•°æ® |
| æ¯æœˆä¸€ä¸ªç‚¹ | `"M"` | æœˆæ”¶å…¥ |
| æ¯å­£åº¦ä¸€ä¸ªç‚¹ | `"Q"` | å­£åº¦æŠ¥è¡¨ |
| æ¯å¹´ä¸€ä¸ªç‚¹ | `"Y"` | å¹´äº§é‡ |
| æ¯å°æ—¶ä¸€ä¸ªç‚¹ | `"H"` | å°æ—¶æµé‡ |

### é€‰æ‹©é¢„æµ‹æ–¹æ³• (`forecast_method`)

| æ•°æ®ç‰¹å¾ | æ¨èæ–¹æ³• | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|
| æœ‰æ˜æ˜¾è¶‹åŠ¿ | `"linear"` | è‚¡ç¥¨é•¿æœŸèµ°åŠ¿ |
| æ¯”è¾ƒå¹³æ»‘ | `"exponential"` | æ—¥å¸¸é”€å”® |
| å¼ºå­£èŠ‚æ€§ | `"seasonal"` | èŠ‚å‡æ—¥é”€å”® |
| å¤æ‚æ¨¡å¼ | `"arima"` | å¤§å¤šæ•°æƒ…å†µ |

---

## ğŸ’¡ å®ç”¨æŠ€å·§

### æŠ€å·§1: ä»å°åˆ°å¤§é€æ­¥åˆ†æ

```typescript
// ç¬¬1æ­¥ï¼šçœ‹æ•°æ®æ¦‚å†µ
{ ..., analysis_type: "descriptive" }

// ç¬¬2æ­¥ï¼šæ£€æŸ¥æ˜¯å¦å¹³ç¨³
{ ..., analysis_type: "stationarity" }

// ç¬¬3æ­¥ï¼šæ‰¾å­£èŠ‚æ€§
{ ..., analysis_type: "decomposition" }

// ç¬¬4æ­¥ï¼šå®Œæ•´åˆ†æ
{ ..., analysis_type: "all" }
```

### æŠ€å·§2: è®¾ç½®åˆé€‚çš„å­£èŠ‚å‘¨æœŸ

```typescript
// æ—¥æ•°æ®ï¼Œæ‰¾å‘¨å‘¨æœŸ
{ seasonal_periods: 7, frequency: "D" }

// å°æ—¶æ•°æ®ï¼Œæ‰¾æ—¥å‘¨æœŸ
{ seasonal_periods: 24, frequency: "H" }

// æœˆæ•°æ®ï¼Œæ‰¾å¹´å‘¨æœŸ
{ seasonal_periods: 12, frequency: "M" }
```

### æŠ€å·§3: é€‰æ‹©åˆé€‚çš„é¢„æµ‹å‘¨æœŸ

```typescript
// çŸ­æœŸé¢„æµ‹ï¼ˆæ›´å‡†ç¡®ï¼‰
{ forecast_periods: 7 }  // é¢„æµ‹1å‘¨

// ä¸­æœŸé¢„æµ‹
{ forecast_periods: 30 }  // é¢„æµ‹1ä¸ªæœˆ

// é•¿æœŸé¢„æµ‹ï¼ˆä¸ç¡®å®šæ€§æ›´å¤§ï¼‰
{ forecast_periods: 90 }  // é¢„æµ‹3ä¸ªæœˆ
```

### æŠ€å·§4: ä½¿ç”¨å†…è”æ•°æ®å¿«é€Ÿæµ‹è¯•

```typescript
{
  data_source: JSON.stringify([
    { date: "2024-01-01", value: 100 },
    { date: "2024-01-02", value: 105 },
    { date: "2024-01-03", value: 98 }
  ]),
  time_column: "date",
  value_column: "value",
  analysis_type: "all"
}
```

---

## âš¡ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### â“ é”™è¯¯ï¼š"Data file does not exist"

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ é”™è¯¯
data_source: "sales.csv"

// âœ… æ­£ç¡®
data_source: "./data/sales.csv"  // ç›¸å¯¹è·¯å¾„
// æˆ–
data_source: "D:/project/data/sales.csv"  // ç»å¯¹è·¯å¾„
```

### â“ é”™è¯¯ï¼š"value_column is required"

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// âŒ ç¼ºå°‘value_column
{
  data_source: "./data.csv",
  time_column: "date"
}

// âœ… æ·»åŠ value_column
{
  data_source: "./data.csv",
  time_column: "date",
  value_column: "sales"  // å¿…éœ€ï¼
}
```

### â“ è­¦å‘Šï¼š"Not enough data points for decomposition"

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// å¦‚æœseasonal_periods = 12ï¼Œéœ€è¦è‡³å°‘24ä¸ªæ•°æ®ç‚¹
// é€‰é¡¹1ï¼šå‡å°å‘¨æœŸ
{ seasonal_periods: 4 }  // å­£åº¦å‘¨æœŸ

// é€‰é¡¹2ï¼šå¢åŠ æ•°æ®
// æˆ–è€…è·³è¿‡åˆ†è§£
{ analysis_type: "trend" }  // åªåšè¶‹åŠ¿åˆ†æ
```

### â“ é¢„æµ‹ç»“æœçœ‹èµ·æ¥ä¸å¯¹

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// å°è¯•ä¸åŒçš„æ–¹æ³•
{ forecast_method: "arima" }      // è¯•è¯•ARIMA
{ forecast_method: "seasonal" }   // è¯•è¯•å­£èŠ‚æ€§
{ forecast_method: "exponential" } // è¯•è¯•æŒ‡æ•°å¹³æ»‘

// æˆ–è€…å¢åŠ å†å²æ•°æ®
// æˆ–è€…è°ƒæ•´å­£èŠ‚å‘¨æœŸ
```

---

## ğŸ“Š è¾“å‡ºç»“æœé˜…è¯»æŒ‡å—

### ç»Ÿè®¡ç»“æœç¤ºä¾‹

```
mean: 1250.5      â† å¹³å‡å€¼
std: 150.3        â† æ ‡å‡†å·®ï¼ˆæ³¢åŠ¨å¤§å°ï¼‰
min: 980.0        â† æœ€å°å€¼
max: 1620.0       â† æœ€å¤§å€¼
median: 1245.0    â† ä¸­ä½æ•°
```

**å¦‚ä½•è§£è¯»**:
- æ ‡å‡†å·®å¤§ = æ•°æ®æ³¢åŠ¨å¤§
- ä¸­ä½æ•° â‰  å‡å€¼ = æ•°æ®æœ‰å

### è¶‹åŠ¿ç»“æœç¤ºä¾‹

```
trendType: "upward"        â† ä¸Šå‡è¶‹åŠ¿
trendStrength: 0.75        â† å¼ºåº¦75%
trendEquation: "y = 2.5x + 1000"
```

**å¦‚ä½•è§£è¯»**:
- upward = ä¸Šå‡ï¼Œdownward = ä¸‹é™
- å¼ºåº¦ > 0.7 = å¼ºè¶‹åŠ¿
- æ–¹ç¨‹å¯ç”¨äºè®¡ç®—è¶‹åŠ¿å€¼

### å¹³ç¨³æ€§ç»“æœç¤ºä¾‹

```
isStationary: false    â† éå¹³ç¨³
pValue: 0.22          â† på€¼
conclusion: "Data appears non-stationary"
```

**å¦‚ä½•è§£è¯»**:
- p < 0.05 = å¹³ç¨³
- p > 0.05 = éå¹³ç¨³ï¼ˆå¯èƒ½éœ€è¦å·®åˆ†ï¼‰

### é¢„æµ‹ç»“æœç¤ºä¾‹

```
{
  timestamp: "2024-01-15",
  forecast: 1300.5,      â† é¢„æµ‹å€¼
  lower: 1200.3,         â† ä¸‹é™ï¼ˆ95%ç½®ä¿¡åº¦ï¼‰
  upper: 1400.7          â† ä¸Šé™ï¼ˆ95%ç½®ä¿¡åº¦ï¼‰
}
```

**å¦‚ä½•è§£è¯»**:
- çœŸå®å€¼æœ‰95%æ¦‚ç‡åœ¨ [lower, upper] ä¹‹é—´
- åŒºé—´è¶Šå®½ = ä¸ç¡®å®šæ€§è¶Šå¤§

---

## ğŸ¯ å®Œæ•´å·¥ä½œæµç¤ºä¾‹

### ç”µå•†é”€å”®åˆ†ææµç¨‹

```typescript
// æ­¥éª¤1: åŠ è½½æ•°æ®å¹¶æŸ¥çœ‹ç»Ÿè®¡
const step1 = {
  data_source: "./data/daily_sales.csv",
  time_column: "date",
  value_column: "sales",
  analysis_type: "descriptive"
}
// ğŸ‘€ æŸ¥çœ‹ï¼šå‡å€¼ã€æ ‡å‡†å·®ã€èŒƒå›´

// æ­¥éª¤2: æ£€æµ‹è¶‹åŠ¿
const step2 = {
  ...step1,
  analysis_type: "trend"
}
// ğŸ‘€ æŸ¥çœ‹ï¼šæ˜¯å¦æœ‰å¢é•¿è¶‹åŠ¿

// æ­¥éª¤3: æ£€æµ‹å‘¨æ¨¡å¼
const step3 = {
  ...step1,
  analysis_type: "decomposition",
  seasonal_periods: 7,  // å‘¨å‘¨æœŸ
  frequency: "D"
}
// ğŸ‘€ æŸ¥çœ‹ï¼šå‘¨æœ«vså·¥ä½œæ—¥å·®å¼‚

// æ­¥éª¤4: æ‰¾å¼‚å¸¸æ—¥æœŸ
const step4 = {
  ...step1,
  analysis_type: "anomaly"
}
// ğŸ‘€ æŸ¥çœ‹ï¼šå“ªäº›æ—¥æœŸé”€å”®å¼‚å¸¸

// æ­¥éª¤5: é¢„æµ‹æœªæ¥ä¸¤å‘¨
const step5 = {
  ...step1,
  analysis_type: "forecast",
  forecast_periods: 14,
  forecast_method: "seasonal",
  seasonal_periods: 7
}
// ğŸ‘€ æŸ¥çœ‹ï¼šæœªæ¥14å¤©é¢„æµ‹

// æ­¥éª¤6: ç»¼åˆæŠ¥å‘Š
const step6 = {
  ...step1,
  analysis_type: "all",
  seasonal_periods: 7,
  forecast_periods: 14,
  frequency: "D"
}
// ğŸ“„ ç”Ÿæˆå®Œæ•´åˆ†ææŠ¥å‘Š
```

---

## ğŸ“š ä¸‹ä¸€æ­¥å­¦ä¹ 

### åˆå­¦è€…ï¼ˆ10åˆ†é’Ÿï¼‰
1. âœ… è¿è¡Œç¬¬ä¸€ä¸ªç¤ºä¾‹
2. âœ… å°è¯•æ”¹å˜ `analysis_type`
3. âœ… æŸ¥çœ‹ä¸åŒçš„è¾“å‡ºç»“æœ

### ä¸­çº§ç”¨æˆ·ï¼ˆ30åˆ†é’Ÿï¼‰
1. âœ… æµ‹è¯•ä¸åŒçš„é¢„æµ‹æ–¹æ³•
2. âœ… è°ƒæ•´å­£èŠ‚å‘¨æœŸå‚æ•°
3. âœ… å¯¹æ¯”å¤šä¸ªæ•°æ®é›†

### é«˜çº§ç”¨æˆ·ï¼ˆ1å°æ—¶+ï¼‰
1. âœ… é˜…è¯»å®Œæ•´çš„ README.md
2. âœ… æŸ¥çœ‹æ‰€æœ‰ç¤ºä¾‹ examples.ts
3. âœ… è®¾è®¡å¤æ‚çš„åˆ†ææµç¨‹
4. âœ… ä¸å…¶ä»–å·¥å…·ç»„åˆä½¿ç”¨

---

## ğŸ”— ç›¸å…³å·¥å…·

é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ï¼š

```
1. OceanDatabaseQueryTool
   â†“ è·å–æµ·æ´‹æ•°æ®
2. OceanDataPreprocessTool
   â†“ æ¸…æ´—æ•°æ®
3. TimeSeriesAnalysisTool
   â†“ åˆ†æå’Œé¢„æµ‹
4. FileWriteTool
   â†“ ä¿å­˜ç»“æœ
```

---

## ğŸ“ é€ŸæŸ¥è¡¨

### åˆ†æç±»å‹
```
descriptive  â†’ åŸºç¡€ç»Ÿè®¡
trend        â†’ è¶‹åŠ¿åˆ†æ
decompositionâ†’ å­£èŠ‚åˆ†è§£
stationarity â†’ å¹³ç¨³æ£€éªŒ
autocorrelationâ†’ è‡ªç›¸å…³
forecast     â†’ é¢„æµ‹
anomaly      â†’ å¼‚å¸¸æ£€æµ‹
changepoint  â†’ å˜åŒ–ç‚¹
all          â†’ å…¨éƒ¨åˆ†æ
```

### é¢‘ç‡ä»£ç 
```
D â†’ æ—¥   W â†’ å‘¨   M â†’ æœˆ
Q â†’ å­£   Y â†’ å¹´   H â†’ å°æ—¶
T â†’ åˆ†   S â†’ ç§’
```

### é¢„æµ‹æ–¹æ³•
```
arima        â†’ é€šç”¨ï¼Œå‡†ç¡®
exponential  â†’ ç®€å•ï¼Œå¿«é€Ÿ
linear       â†’ çº¿æ€§è¶‹åŠ¿
seasonal     â†’ å¼ºå‘¨æœŸæ€§
```

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡æ—¶é—´åºåˆ—åˆ†æå§ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ [README.md](./README.md) è·å–å®Œæ•´æ–‡æ¡£ã€‚
